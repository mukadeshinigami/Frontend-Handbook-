# –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (Event Delegation)

## –í–≤–µ–¥–µ–Ω–∏–µ

**–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π** ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ–¥–Ω–æ–≥–æ –æ–±—â–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –≤ JavaScript –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å DOM.

**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ?**
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏)
- ‚úÖ –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–¥ –∏ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º
- ‚úÖ –ò–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**
- –°–ø–∏—Å–∫–∏ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –¢–∞–±–ª–∏—Ü—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
- –ì–∞–ª–µ—Ä–µ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–µ–Ω—é
- –õ—é–±—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

---

## –ü—Ä–æ–±–ª–µ–º–∞: –Ω–∞–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á:

```html
<ul id="taskList">
  <li>–ó–∞–¥–∞—á–∞ 1 <button class="delete">–£–¥–∞–ª–∏—Ç—å</button></li>
  <li>–ó–∞–¥–∞—á–∞ 2 <button class="delete">–£–¥–∞–ª–∏—Ç—å</button></li>
  <li>–ó–∞–¥–∞—á–∞ 3 <button class="delete">–£–¥–∞–ª–∏—Ç—å</button></li>
</ul>
```

**–ü–ª–æ—Ö–æ–π —Å–ø–æ—Å–æ–± (‚ùå):**

```javascript
const buttons = document.querySelectorAll('.delete');

buttons.forEach(button => {
  button.addEventListener('click', () => {
    button.parentElement.remove();
  });
});
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)
2. ‚ùå –ú–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–µ—Å–ª–∏ 1000 –∫–Ω–æ–ø–æ–∫ ‚Äî 1000 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)
3. ‚ùå –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞

---

## –í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π (Event Bubbling)

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–Ω—è—Ç—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä–æ **–≤—Å–ø–ª—ã—Ç–∏–µ**.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å–ø–ª—ã—Ç–∏–µ?

–ö–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ, –æ–Ω–æ **–≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤–≤–µ—Ä—Ö –ø–æ DOM-–¥–µ—Ä–µ–≤—É**, –≤—ã–∑—ã–≤–∞—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö.

**–ü—Ä–∏–º–µ—Ä:**

```html
<div id="outer">
  <div id="middle">
    <button id="inner">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
  </div>
</div>
```

```javascript
document.getElementById('outer').addEventListener('click', () => {
  console.log('–ö–ª–∏–∫ –Ω–∞ outer');
});

document.getElementById('middle').addEventListener('click', () => {
  console.log('–ö–ª–∏–∫ –Ω–∞ middle');
});

document.getElementById('inner').addEventListener('click', () => {
  console.log('–ö–ª–∏–∫ –Ω–∞ inner');
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É:**
```
–ö–ª–∏–∫ –Ω–∞ inner
–ö–ª–∏–∫ –Ω–∞ middle
–ö–ª–∏–∫ –Ω–∞ outer
```

–°–æ–±—ã—Ç–∏—è **–≤—Å–ø–ª—ã–≤–∞—é—Ç** –æ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∫ —Ä–æ–¥–∏—Ç–µ–ª—è–º!

---

## –§–∞–∑—ã —Å–æ–±—ã—Ç–∏—è

–°–æ–±—ã—Ç–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç **—Ç—Ä–∏ —Ñ–∞–∑—ã**:

1. **Capturing (–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ)** ‚Äî —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ (–æ—Ç `document` –∫ —Ü–µ–ª–∏)
2. **Target (—Ü–µ–ª—å)** ‚Äî —Å–∞–º–æ —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
3. **Bubbling (–≤—Å–ø–ª—ã—Ç–∏–µ)** ‚Äî —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (–æ—Ç —Ü–µ–ª–∏ –∫ `document`)

```
document
  ‚Üì (capturing)
  html
  ‚Üì
  body
  ‚Üì
  div
  ‚Üì
  button ‚Üê TARGET (—Ü–µ–ª—å)
  ‚Üë
  div
  ‚Üë (bubbling)
  body
  ‚Üë
  html
  ‚Üë
  document
```

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** `addEventListener` —Å–ª—É—à–∞–µ—Ç –Ω–∞ —Ñ–∞–∑–µ **bubbling**.

–ß—Ç–æ–±—ã —Å–ª—É—à–∞—Ç—å –Ω–∞ **capturing**, –ø–µ—Ä–µ–¥–∞–π—Ç–µ —Ç—Ä–µ—Ç–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä `true`:

```javascript
element.addEventListener('click', handler, true); // capturing —Ñ–∞–∑–∞
```

---

## event.target –∏ event.currentTarget

### `event.target` ‚Äî —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ (—Ü–µ–ª—å –∫–ª–∏–∫–∞)

### `event.currentTarget` ‚Äî —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º **–≤–∏—Å–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫**

**–ü—Ä–∏–º–µ—Ä:**

```html
<div id="parent">
  <button id="child">–ö–Ω–æ–ø–∫–∞</button>
</div>
```

```javascript
document.getElementById('parent').addEventListener('click', (event) => {
  console.log('target:', event.target.id);         // child (–∫–Ω–æ–ø–∫–∞)
  console.log('currentTarget:', event.currentTarget.id); // parent (div)
});
```

**–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É:**
- `event.target` ‚Äî `<button>` (–≥–¥–µ –∫–ª–∏–∫–Ω—É–ª–∏)
- `event.currentTarget` ‚Äî `<div>` (–≥–¥–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)

---

## –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥

### –ò–¥–µ—è

–í–º–µ—Å—Ç–æ –Ω–∞–≤–µ—à–∏–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç, **–Ω–∞–≤–µ—à–∏–≤–∞–µ–º –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è** –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º `event.target`.

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± (‚úÖ):**

```javascript
const taskList = document.getElementById('taskList');

taskList.addEventListener('click', (event) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–ª–∏–∫–Ω—É–ª–∏ –ª–∏ –ø–æ –∫–Ω–æ–ø–∫–µ —É–¥–∞–ª–µ–Ω–∏—è
  if (event.target.classList.contains('delete')) {
    event.target.parentElement.remove();
  }
});
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–º–µ—Å—Ç–æ —Å–æ—Ç–µ–Ω
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏
- ‚úÖ –ü—Ä–æ—â–µ –∫–æ–¥

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫

```html
<div>
  <input type="text" id="taskInput" placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞">
  <button id="addTask">–î–æ–±–∞–≤–∏—Ç—å</button>
  <ul id="taskList"></ul>
</div>
```

```javascript
const taskList = document.getElementById('taskList');
const taskInput = document.getElementById('taskInput');
const addTask = document.getElementById('addTask');

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
addTask.addEventListener('click', () => {
  const text = taskInput.value.trim();
  if (text === '') return;

  const li = document.createElement('li');
  li.innerHTML = `
    ${text}
    <button class="delete">–£–¥–∞–ª–∏—Ç—å</button>
  `;
  taskList.appendChild(li);
  taskInput.value = '';
});

// –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è
taskList.addEventListener('click', (event) => {
  if (event.target.classList.contains('delete')) {
    event.target.parentElement.remove();
  }
});
```

**–†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è:**
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ù–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–∑–∂–µ)

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞: matches()

–ú–µ—Ç–æ–¥ `element.matches(selector)` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä—É.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
taskList.addEventListener('click', (event) => {
  if (event.target.matches('.delete')) {
    event.target.parentElement.remove();
  }
});
```

**–ò–ª–∏ –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤:**

```javascript
taskList.addEventListener('click', (event) => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É –≤–Ω—É—Ç—Ä–∏ li
  if (event.target.matches('li button')) {
    console.log('–ö–ª–∏–∫–Ω—É–ª–∏ –ø–æ –∫–Ω–æ–ø–∫–µ –≤–Ω—É—Ç—Ä–∏ li');
  }
});
```

---

## –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è: closest()

–ò–Ω–æ–≥–¥–∞ –∫–ª–∏–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–≤–Ω—É—Ç—Ä–∏** –Ω—É–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –∏–∫–æ–Ω–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏).

**–ü—Ä–æ–±–ª–µ–º–∞:**

```html
<button class="delete">
  <span class="icon">üóëÔ∏è</span> –£–¥–∞–ª–∏—Ç—å
</button>
```

–ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ `<span>`, `event.target` –±—É–¥–µ—Ç `<span>`, –∞ –Ω–µ `<button>`.

**–†–µ—à–µ–Ω–∏–µ:** `element.closest(selector)`

```javascript
taskList.addEventListener('click', (event) => {
  const deleteButton = event.target.closest('.delete');
  
  if (deleteButton) {
    deleteButton.parentElement.remove();
  }
});
```

`closest()` –∏—â–µ—Ç **–±–ª–∏–∂–∞–π—à–∏–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç** (–≤–∫–ª—é—á–∞—è —Å–∞–º —ç–ª–µ–º–µ–Ω—Ç), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä—É.

---

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–ø–ª—ã—Ç–∏—è: stopPropagation()

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ **–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–ø–ª—ã—Ç–∏–µ**, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
button.addEventListener('click', (event) => {
  event.stopPropagation(); // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–ø–ª—ã—Ç–∏–µ
  console.log('–¢–æ–ª—å–∫–æ —ç—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫');
});
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (–∫–ª–∏–∫ –≤–Ω—É—Ç—Ä–∏ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É)
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ:** –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `stopPropagation()` –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É.

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏

```html
<table id="userTable">
  <thead>
    <tr>
      <th>–ò–º—è</th>
      <th>Email</th>
      <th>–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>
  <tbody>
    <tr data-id="1">
      <td>–ò–≤–∞–Ω</td>
      <td>ivan@example.com</td>
      <td>
        <button class="edit">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="delete">–£–¥–∞–ª–∏—Ç—å</button>
      </td>
    </tr>
    <!-- –ë–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫... -->
  </tbody>
</table>
```

```javascript
const userTable = document.getElementById('userTable');

userTable.addEventListener('click', (event) => {
  const target = event.target;
  
  // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  if (target.classList.contains('edit')) {
    const row = target.closest('tr');
    const userId = row.dataset.id;
    console.log('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', userId);
  }
  
  // –£–¥–∞–ª–µ–Ω–∏–µ
  if (target.classList.contains('delete')) {
    const row = target.closest('tr');
    const confirmed = confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É?');
    if (confirmed) {
      row.remove();
    }
  }
});
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫
- `data-id` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫–∏

---

## –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π

### –ü—Ä–∏–º–µ—Ä 1: Hover (–Ω–∞–≤–µ–¥–µ–Ω–∏–µ)

```javascript
const list = document.getElementById('list');

list.addEventListener('mouseover', (event) => {
  if (event.target.matches('li')) {
    event.target.style.backgroundColor = 'yellow';
  }
});

list.addEventListener('mouseout', (event) => {
  if (event.target.matches('li')) {
    event.target.style.backgroundColor = '';
  }
});
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–ª–∞–≤–∏—à–∏ (input)

```javascript
const form = document.getElementById('form');

form.addEventListener('input', (event) => {
  if (event.target.matches('input[type="text"]')) {
    console.log('–ò–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ–ª–µ:', event.target.name, event.target.value);
  }
});
```

### –ü—Ä–∏–º–µ—Ä 3: Submit —Ñ–æ—Ä–º—ã

```javascript
document.body.addEventListener('submit', (event) => {
  if (event.target.matches('.ajax-form')) {
    event.preventDefault();
    console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ AJAX');
  }
});
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ê—Å–ø–µ–∫—Ç | –ë–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | –° –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º |
|--------|-------------------|------------------|
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** | N (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç) | 1 (–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ) |
| **–ü–∞–º—è—Ç—å** | –ú–Ω–æ–≥–æ (N –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤) | –ú–∞–ª–æ (1 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫) |
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã** | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–º–Ω–æ–≥–æ –ø—Ä–∏–≤—è–∑–æ–∫) | –ë—ã—Å—Ç—Ä–µ–µ |
| **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** | ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã | ‚úÖ –ù–µ—Ç |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞** | –í—ã—à–µ (–ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ) | –ù–∏–∂–µ (–æ–¥–∏–Ω —Ä–∞–∑) |

---

## –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –≤—Å–µ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ:

1. **–ï–¥–∏–Ω–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã** ‚Äî –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –æ–¥–∏–Ω –∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –ø—Ä—è–º–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –ø—Ä–æ—â–µ
2. **–í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è** ‚Äî `scroll`, `mousemove` (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–æ–≤)
3. **–§–æ–∫—É—Å/blur** ‚Äî —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è –Ω–µ –≤—Å–ø–ª—ã–≤–∞—é—Ç (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `focusin`/`focusout`)

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

```javascript
// 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
list.addEventListener('click', (event) => {
  if (event.target.matches('.item')) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞
  }
});

// 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ closest() –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
list.addEventListener('click', (event) => {
  const button = event.target.closest('.btn');
  if (button) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞
  }
});

// 3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è
taskList.addEventListener('click', (event) => {
  const deleteBtn = event.target.closest('.delete');
  if (deleteBtn && taskList.contains(deleteBtn)) {
    deleteBtn.parentElement.remove();
  }
});
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

```javascript
// 1. –ù–µ –Ω–∞–≤–µ—à–∏–≤–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Ü–∏–∫–ª–µ
buttons.forEach(btn => {
  btn.addEventListener('click', handler); // ‚ùå
});

// 2. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å target
parent.addEventListener('click', (event) => {
  event.target.parentElement.remove(); // ‚ùå –£–¥–∞–ª–∏—Ç –ª—é–±–æ–π –∫–ª–∏–∫!
});

// 3. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è focus/blur
// (–æ–Ω–∏ –Ω–µ –≤—Å–ø–ª—ã–≤–∞—é—Ç)
form.addEventListener('focus', handler); // ‚ùå –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç!
form.addEventListener('focusin', handler); // ‚úÖ –°—Ä–∞–±–æ—Ç–∞–µ—Ç (–≤—Å–ø–ª—ã–≤–∞–µ—Ç)
```

---

## –ü—Ä–∏–º–µ—Ä: –≥–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```html
<div id="gallery">
  <img src="1.jpg" data-full="1-full.jpg" alt="–§–æ—Ç–æ 1">
  <img src="2.jpg" data-full="2-full.jpg" alt="–§–æ—Ç–æ 2">
  <img src="3.jpg" data-full="3-full.jpg" alt="–§–æ—Ç–æ 3">
</div>
<div id="modal" style="display:none;">
  <img id="modalImage" src="" alt="">
  <button id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
</div>
```

```javascript
const gallery = document.getElementById('gallery');
const modal = document.getElementById('modal');
const modalImage = document.getElementById('modalImage');
const closeModal = document.getElementById('closeModal');

// –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
gallery.addEventListener('click', (event) => {
  if (event.target.matches('img')) {
    const fullSrc = event.target.dataset.full;
    modalImage.src = fullSrc;
    modal.style.display = 'block';
  }
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
closeModal.addEventListener('click', () => {
  modal.style.display = 'none';
});
```

---

## –ò—Ç–æ–≥–∏

### –ß—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏:

‚úÖ **–í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π** ‚Äî —Å–æ–±—ã—Ç–∏—è –∏–¥—É—Ç –æ—Ç —Ü–µ–ª–∏ –∫ —Ä–æ–¥–∏—Ç–µ–ª—è–º  
‚úÖ **event.target** ‚Äî —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ  
‚úÖ **event.currentTarget** ‚Äî —ç–ª–µ–º–µ–Ω—Ç —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º  
‚úÖ **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–µ—Ç–µ–π  
‚úÖ **matches()** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä—É  
‚úÖ **closest()** ‚Äî –ø–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è  
‚úÖ **stopPropagation()** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–ø–ª—ã—Ç–∏—è  

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Å–∫–∏ (todo, —Ç–∞–±–ª–∏—Ü—ã, –≥–∞–ª–µ—Ä–µ–∏)
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –≠–ª–µ–º–µ–Ω—Ç—ã, –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ/—É–¥–∞–ª—è–µ–º—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

### –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- ‚ùå –ï–¥–∏–Ω–∏—á–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚ùå –í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (scroll, mousemove)
- ‚ùå –°–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—Å–ø–ª—ã–≤–∞—é—Ç (focus, blur)

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ:
- **–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** (`createElement`, `appendChild`, `remove`)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML
- –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- Template literals –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏

---

## –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ñ–∞–π–ª—É `03-event-delegation-practice.md` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤!

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [MDN: Event Bubbling and Capturing](https://developer.mozilla.org/ru/docs/Learn/JavaScript/Building_blocks/Events#%D0%B2%D1%81%D0%BF%D0%BB%D1%8B%D1%82%D0%B8%D0%B5_%D0%B8_%D0%BF%D0%B5%D1%80%D0%B5%D1%85%D0%B2%D0%B0%D1%82_%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9)
- [MDN: Event.target](https://developer.mozilla.org/ru/docs/Web/API/Event/target)
- [MDN: Element.closest()](https://developer.mozilla.org/ru/docs/Web/API/Element/closest)
- [MDN: Element.matches()](https://developer.mozilla.org/ru/docs/Web/API/Element/matches)
- [JavaScript.info: Event delegation](https://learn.javascript.ru/event-delegation)

**–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! üéâ –í—ã –æ—Å–≤–æ–∏–ª–∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π ‚Äî –æ–¥–Ω—É –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö —Ç–µ—Ö–Ω–∏–∫ JavaScript!**
