# 07 ‚Äî –ú–µ–¥–∏–∞-–≥–∞–ª–µ—Ä–µ—è —Å –ª–∞–π—Ç–±–æ–∫—Å–æ–º

## –í–≤–µ–¥–µ–Ω–∏–µ

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å **–∞–¥–∞–ø—Ç–∏–≤–Ω—É—é –≥–∞–ª–µ—Ä–µ—é —Ñ–æ—Ç–æ** —Å:
- **CSS Grid** –¥–ª—è –æ—Ç–∑—ã–≤—á–∏–≤–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –±–µ–∑ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–æ–≤
- **–õ–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π** (`loading="lazy"`) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–î–æ—Å—Ç—É–ø–Ω—ã–º –ª–∞–π—Ç–±–æ–∫—Å–æ–º** (–º–æ–¥–∞–ª–æ–º) —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **ARIA –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏** –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–º–æ—Ç—Ä–∏ –≤ —Ñ–∞–π–ª–µ: **`03-media-gallery.html`**

---

## –ß–∞—Å—Ç—å 1: CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

### –ó–∞—á–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?

```css
:root {
  --bg:     #f6f7fb;    /* —Ñ–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
  --card:   #fff;       /* —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫ */
  --muted:  #6b7280;    /* —Å–µ—Ä—ã–π —Ç–µ–∫—Å—Ç (–ø–æ–¥–ø–∏—Å–∏) */
  --accent: #0ea5a0;    /* —Ü–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞ (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π –¥–ª—è –±—É–¥—É—â–µ–≥–æ) */
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å –æ–¥–Ω–æ –º–µ—Å—Ç–æ
2. **–°–∫–∞–ª–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å dark mode: `@media (prefers-color-scheme: dark) { :root { --bg: #1a1a1a; } }`
3. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî `background: var(--bg)` –ø–æ–Ω—è—Ç–Ω–µ–µ, —á–µ–º `background: #f6f7fb`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```css
body { background: var(--bg); }
.photo { background: var(--card); }
.lead { color: var(--muted); }
```

---

## –ß–∞—Å—Ç—å 2: –ì–∞–ª–µ—Ä–µ—è –∫–∞–∫ CSS Grid

### –í–æ–ª—à–µ–±–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `auto-fit`

```css
.gallery {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ø–æ —Å–ª–æ–≤–∞–º:**
- `display: grid` ‚Äî –≤–∫–ª—é—á–∞–µ–º Grid —Ä–∞—Å–∫–ª–∞–¥–∫—É
- `grid-template-columns` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è **–∫–æ–ª–æ–Ω–æ–∫**
- `repeat(auto-fit, ...)` ‚Äî **–ø–æ–≤—Ç–æ—Ä—è–π** –∫–æ–ª–æ–Ω–∫—É —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤–ª–µ–∑–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `minmax(200px, 1fr)` ‚Äî –∫–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞:
  - **–º–∏–Ω–∏–º—É–º 200px** (—Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–æ—Ç–æ)
  - **–º–∞–∫—Å–∏–º—É–º 1fr** (—Ä–∞–≤–Ω–∞—è —á–∞—Å—Ç—å –æ—Ç –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –º–µ—Å—Ç–∞)

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö?

```
üì± –ú–æ–±–∏–ª—å–Ω—ã–π (375px):
  375 √∑ 200 = 1.87 ‚Üí –≤–ª–µ–∑–∞–µ—Ç 1 –∫–æ–ª–æ–Ω–∫–∞
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 1 —Ñ–æ—Ç–æ –≤ —Ä—è–¥

üíª –ü–ª–∞–Ω—à–µ—Ç (768px):
  768 √∑ 200 = 3.84 ‚Üí –≤–ª–µ–∑–∞—é—Ç 3 –∫–æ–ª–æ–Ω–∫–∏
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3 —Ñ–æ—Ç–æ –≤ —Ä—è–¥ (–∫–∞–∂–¥–∞—è ‚âà256px)

üñ•Ô∏è –î–µ—Å–∫—Ç–æ–ø (1200px):
  1200 √∑ 200 = 6 ‚Üí –≤–ª–µ–∑–∞—é—Ç 6 –∫–æ–ª–æ–Ω–æ–∫
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 6 —Ñ–æ—Ç–æ –≤ —Ä—è–¥ (–∫–∞–∂–¥–∞—è ‚âà200px)
```

**–ë–µ–∑ `auto-fit` –ø—Ä–∏—à–ª–æ—Å—å –±—ã –ø–∏—Å–∞—Ç—å –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã:**
```css
/* –í–æ—Ç —Ç–∞–∫ –ù–ï –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å: */
@media (min-width: 768px) { grid-template-columns: repeat(3, 1fr); }
@media (min-width: 1024px) { grid-template-columns: repeat(4, 1fr); }
@media (min-width: 1200px) { grid-template-columns: repeat(6, 1fr); }

/* –° auto-fit –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! */
```

---

## –ß–∞—Å—Ç—å 3: –ö–∞—Ä—Ç–æ—á–∫–∞ —Ñ–æ—Ç–æ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é

### HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```html
<figure class="photo" data-index="0">
  <button aria-label="–û—Ç–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ"
          data-src="https://picsum.photos/id/1015/1200/800"
          data-alt="–ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ">
    <img src="https://picsum.photos/id/1015/600/400" 
         alt="–ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ" 
         loading="lazy" />
  </button>
  <figcaption>–ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ ‚Äî –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ —Ç—É–º–∞–Ω</figcaption>
</figure>
```

**–ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å –∏–º–µ–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

| –≠–ª–µ–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|-----------|
| `<figure>` | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–≥ –¥–ª—è –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ñ–æ—Ç–æ + –ø–æ–¥–ø–∏—Å—å) |
| `<button>` | –ö–ª–∏–∫ –ø–æ —Ñ–æ—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ª–∞–π—Ç–±–æ–∫—Å (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å!) |
| `data-index="0"` | –ù–æ–º–µ—Ä —Ñ–æ—Ç–æ –¥–ª—è JS (–∫–∞–∫–æ–µ —ç—Ç–æ –ø–æ —Å—á—ë—Ç—É) |
| `data-src="...1200/800"` | URL **–±–æ–ª—å—à–æ–π –≤–µ—Ä—Å–∏–∏** –¥–ª—è –º–æ–¥–∞–ª–∞ |
| `data-alt="..."` | –¢–µ–∫—Å—Ç –¥–ª—è —Å–ª–∞–±–æ–≤–∏–¥—è—â–∏—Ö |
| `<img loading="lazy">` | –ë—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ |
| `<figcaption>` | –ü–æ–¥–ø–∏—Å—å –ø–æ–¥ —Ñ–æ—Ç–æ |

### CSS –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏

```css
figure.photo {
  background: var(--card);
  border-radius: 10px;
  overflow: hidden;           /* —Å—Ä–µ–∑–∞–µ–º —É–≥–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é */
  margin: 0;
  box-shadow: 0 4px 10px rgba(16,24,40,0.06);
  transition: transform .28s cubic-bezier(.2,.9,.25,1),
              box-shadow .28s ease;
}

figure.photo:hover {
  transform: translateY(-8px);              /* –ø–æ–¥–Ω–∏–º–∞–µ–º –Ω–∞ 8px */
  box-shadow: 0 14px 26px rgba(16,24,40,0.12);  /* —Ç–µ–Ω—å —Å–∏–ª—å–Ω–µ–µ */
}
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç hover-—ç—Ñ—Ñ–µ–∫—Ç:**

1. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞ –º–µ—Å—Ç–µ —Å –º—è–≥–∫–æ–π —Ç–µ–Ω—å—é
2. **–ù–∞–≤–æ–¥–∏—à—å –∫—É—Ä—Å–æ—Ä** ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ 8px, —Ç–µ–Ω—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±—ä—ë–º–Ω–µ–µ
3. **–£—Ö–æ–¥–∏—à—å** ‚Äî –ø–ª–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–æ (280ms)

**–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç:** `transition` –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **–±–∞–∑–æ–≤–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏** (–Ω–µ –Ω–∞ `:hover`). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ **–æ–±–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è** (–≤ –∏ –∏–∑ hover) –±—É–¥—É—Ç –ø–ª–∞–≤–Ω—ã–µ.

```css
/* –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –ø–µ—Ä–µ—Ö–æ–¥ —Ç–æ–ª—å–∫–æ —Ç—É–¥–∞, –æ–±—Ä–∞—Ç–Ω–æ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ */
figure.photo:hover { transition: transform .28s; }

/* –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ø–µ—Ä–µ—Ö–æ–¥ —Ç—É–¥–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ */
figure.photo { transition: transform .28s; }
figure.photo:hover { transform: translateY(-8px); }
```

### `cubic-bezier(.2,.9,.25,1)` ‚Äî —á—Ç–æ —ç—Ç–æ?

–≠—Ç–æ **—Ñ—É–Ω–∫—Ü–∏—è –∫—Ä–∏–≤–æ–π** –¥–ª—è –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏. –í–º–µ—Å—Ç–æ –ª–∏–Ω–µ–π–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:

```
–õ–∏–Ω–µ–π–Ω–∞—è (—Å–∫—É—á–Ω–∞—è):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  –∫–æ–Ω–µ—Ü
‚îÇ
‚îÇ —Å–∫–æ—Ä–æ—Å—Ç—å
‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  –Ω–∞—á–∞–ª–æ
```

```
Cubic-bezier (–ø—Ä—É–∂–∏–Ω–∏—Å—Ç–∞—è):
    ‚ï±‚ï≤
   ‚ï±  ‚ï≤    –±—ã—Å—Ç—Ä–æ –≤ –Ω–∞—á–∞–ª–µ, –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ
  ‚ï±    ‚ï≤   –∫–∞–∫ –æ—Ç—Å–∫–æ–∫ –º—è—á–∞
 ‚ï±      ‚ï≤
```

–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:
- `ease` ‚Äî –º–µ–¥–ª–µ–Ω–Ω–æ, –±—ã—Å—Ç—Ä–æ, –º–µ–¥–ª–µ–Ω–Ω–æ
- `ease-out` ‚Äî –±—ã—Å—Ç—Ä–æ, –ø–æ—Ç–æ–º –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ
- `cubic-bezier(.17,.67,.83,.67)` ‚Äî –ø—Ä—É–∂–∏–Ω–∞

---

## –ß–∞—Å—Ç—å 4: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞

```html
<!-- –í–∞—Ä–∏–∞–Ω—Ç 1: <div> ‚Äî –Ω–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ–Ω, –Ω–µ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è -->
<div class="gallery-item" @click="openModal">
  <img src="..." />
</div>

<!-- –í–∞—Ä–∏–∞–Ω—Ç 2: <a href="#"> ‚Äî –ø—É—Ç–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä (—ç—Ç–æ —Å—Å—ã–ª–∫–∞?) -->
<a href="#">
  <img src="..." />
</a>
```

### –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `<button>`

```html
<button aria-label="–û—Ç–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ"
        data-src="https://picsum.photos/id/1015/1200/800"
        data-alt="–ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ">
  <img src="https://picsum.photos/id/1015/600/400" alt="–ú–æ—Å—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ" />
</button>
```

**–ü–æ—á–µ–º—É `<button>`?**
1. **–°–µ–º–∞–Ω—Ç–∏–∫–∞** ‚Äî —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä –≥–æ–≤–æ—Ä–∏—Ç: "—ç—Ç–æ –∫–Ω–æ–ø–∫–∞, –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å"
2. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π (Tab, Enter, Space)
3. **–°—Ç–∏–ª–∏** ‚Äî –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å —á–µ—Ä–µ–∑ `all: unset` –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏

### CSS –¥–ª—è –∫–Ω–æ–ø–∫–∏

```css
figure.photo button {
  all: unset;           /* —É–±–∏—Ä–∞–µ–º –≤—Å–µ —Å—Ç–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
  display: block;       /* –±–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
  cursor: pointer;      /* –∫—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å */
  width: 100%;
  height: 100%;         /* –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –∫–∞—Ä—Ç–æ—á–∫—É */
}
```

**`all: unset` ‚Äî —á—Ç–æ —ç—Ç–æ —É–±–∏—Ä–∞–µ—Ç:**
- –ì—Ä–∞–Ω–∏—Ü—ã (border)
- –§–æ–Ω (background)
- –®—Ä–∏—Ñ—Ç –∏ —Ç–µ–∫—Å—Ç
- Padding –∏ margin
- –í—Å–µ —Å—Ç–∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## –ß–∞—Å—Ç—å 5: –õ–∞–π—Ç–±–æ–∫—Å ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

### HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```html
<div class="lightbox" 
     role="dialog" 
     aria-hidden="true" 
     aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" 
     id="lightbox">
  
  <div class="lightbox__panel">
    <img class="lightbox__img" id="lightboxImg" src="" alt="" />
    <div class="lightbox__meta" id="lightboxCaption"></div>
  </div>
  
  <div class="lightbox__controls">
    <button id="prevBtn" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ">‚óÄ</button>
    <button id="nextBtn" aria-label="–°–ª–µ–¥—É—é—â–µ–µ">‚ñ∂</button>
  </div>
</div>
```

**–ê—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (ARIA):**
- `role="dialog"` ‚Äî —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- `aria-hidden="true"` ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç–æ –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º —á—Ç–µ–Ω–∏—è
- `aria-label="..."` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–∞

### CSS –¥–ª—è –ª–∞–π—Ç–±–æ–∫—Å–∞

```css
.lightbox {
  position: fixed;          /* –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∞ –∫ —ç–∫—Ä–∞–Ω—É (–Ω–µ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è) */
  inset: 0;                 /* –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω (top/right/bottom/left = 0) */
  display: none;            /* –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–≤–∏–¥–∏–º–∞ */
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.6);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω */
  z-index: 9999;            /* –Ω–∞–¥ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ */
}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ aria-hidden="false" */
.lightbox[aria-hidden="false"] {
  display: flex;
}
```

**–ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä `[aria-hidden="false"]` –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞?**

```javascript
// –í–∞—Ä–∏–∞–Ω—Ç 1: —Å –∫–ª–∞—Å—Å–æ–º (–¥—É–±–ª–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é)
lightbox.classList.add('is-open');
// CSS: .lightbox.is-open { display: flex; }

// –í–∞—Ä–∏–∞–Ω—Ç 2: —Å aria-hidden (–æ–¥–Ω–∞ –∏—Å—Ç–∏–Ω–∞ –¥–ª—è –≤—Å–µ—Ö)
lightbox.setAttribute('aria-hidden', 'false');
// CSS: .lightbox[aria-hidden="false"] { display: flex; }
// –ü–ª—é—Å: –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ 2:**
- –°—Ç–∏–ª–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**
- –ö–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è–µ—à—å `aria-hidden`, —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã –∏ —Å—Ç–∏–ª–∏, –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

---

## –ß–∞—Å—Ç—å 6: JavaScript ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∞–π—Ç–±–æ–∫—Å–æ–º

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```javascript
const gallery = document.getElementById('gallery');
const lightbox = document.getElementById('lightbox');
const lbImg = document.getElementById('lightboxImg');
const lbCaption = document.getElementById('lightboxCaption');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const figures = Array.from(gallery.querySelectorAll('figure.photo'));
let current = -1;  // –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–π –æ—Ç–∫—Ä—ã—Ç–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏
```

**–ü–æ—á–µ–º—É `let current = -1` (–Ω–µ 0)?**
- –ü–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–∂–∞–ª, –º–æ–¥–∞–ª –∑–∞–∫—Ä—ã—Ç
- `-1` ‚Äî —Å–∏–≥–Ω–∞–ª, —á—Ç–æ –º–æ–¥–∞–ª –∑–∞–∫—Ä—ã—Ç (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π —Ñ–ª–∞–≥ `let isOpen = false`)

### –§—É–Ω–∫—Ü–∏—è `open(index)` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ç–æ

```javascript
function open(index) {
  const fig = figures[index];
  if (!fig) return;  // –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–∫–∏ –∏–Ω–¥–µ–∫—Å–∞
  
  const btn = fig.querySelector('button');
  const src = btn.getAttribute('data-src');    // –±–æ–ª—å—à–∞—è –≤–µ—Ä—Å–∏—è
  const alt = btn.getAttribute('data-alt');    // –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–∞
  const caption = fig.querySelector('figcaption')?.textContent || '';
  
  // –í—Å—Ç–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª–∞
  lbImg.src = src;
  lbImg.alt = alt;
  lbCaption.textContent = caption;
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª
  lightbox.setAttribute('aria-hidden', 'false');
  current = index;
  
  // –î–∞—ë–º —Ñ–æ–∫—É—Å –∫–Ω–æ–ø–∫–µ "–°–ª–µ–¥—É—é—â–µ–µ" –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  nextBtn.focus();
}
```

**`fig.querySelector('figcaption')?.textContent || ''`**
- `?.` (optional chaining) ‚Äî –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–µ—Ä–Ω—ë—à—å—Å—è `undefined`
- `|| ''` (–ª–æ–≥–∏—á–µ—Å–∫–∏–π OR) ‚Äî –µ—Å–ª–∏ `undefined`, –≤–µ—Ä–Ω—ë—à—å—Å—è –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
- –ë–µ–∑ —ç—Ç–æ–π –∑–∞—â–∏—Ç—ã –∫–æ–¥ –±—ã —É–ø–∞–ª —Å –æ—à–∏–±–∫–æ–π

### –§—É–Ω–∫—Ü–∏—è `close()` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –ª–∞–π—Ç–±–æ–∫—Å

```javascript
function close() {
  lightbox.setAttribute('aria-hidden', 'true');
  lbImg.src = '';
  lbCaption.textContent = '';
  current = -1;
}
```

**–ó–∞—á–µ–º –æ—á–∏—â–∞—Ç—å `src` –∏ `textContent`?**
- –ü–∞–º—è—Ç—å: –Ω–µ –¥–µ—Ä–∂–∏–º –≤ –ø–∞–º—è—Ç–∏ –±–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –º–æ–¥–∞–ª –∑–∞–∫—Ä—ã—Ç
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –µ—Å–ª–∏ –≤–µ—Ä–Ω—ë—à—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤–∏–¥–Ω—ã

### –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –º–æ–¥—É–ª–µ–º

```javascript
function showNext() {
  open((current + 1) % figures.length);
}

function showPrev() {
  open((current - 1 + figures.length) % figures.length);
}
```

**–û–ø–µ—Ä–∞—Ç–æ—Ä `%` (modulo) ‚Äî –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è:**

```
–ï—Å–ª–∏ —É –Ω–∞—Å 6 —Ñ–æ—Ç–æ (–∏–Ω–¥–µ–∫—Å—ã 0-5):

showNext() –∏–∑ —Ñ–æ—Ç–æ 4:
  (4 + 1) % 6 = 5 % 6 = 5  ‚Üí —Ñ–æ—Ç–æ 5 (—Å–ª–µ–¥—É—é—â–µ–µ)

showNext() –∏–∑ —Ñ–æ—Ç–æ 5:
  (5 + 1) % 6 = 6 % 6 = 0  ‚Üí —Ñ–æ—Ç–æ 0 (—Ü–∏–∫–ª–∏–º –≤ –Ω–∞—á–∞–ª–æ! üîÑ)

showPrev() –∏–∑ —Ñ–æ—Ç–æ 0:
  (0 - 1 + 6) % 6 = 5 % 6 = 5  ‚Üí —Ñ–æ—Ç–æ 5 (—Ü–∏–∫–ª–∏–º –≤ –∫–æ–Ω–µ—Ü!)
```

**–ü–æ—á–µ–º—É `+ figures.length` –≤ `showPrev`?**
- –í JS `-1 % 6 = -1` (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!)
- –î–æ–±–∞–≤–ª—è–µ–º –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞: `-1 + 6 = 5`, –ø–æ—Ç–æ–º `5 % 6 = 5` ‚úÖ

---

## –ß–∞—Å—Ç—å 7: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

### –ö–ª–∏–∫ –ø–æ —Ñ–æ—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ª–∞–π—Ç–±–æ–∫—Å

```javascript
gallery.addEventListener('click', e => {
  const btn = e.target.closest('button');
  if (!btn) return;
  
  const fig = btn.closest('figure.photo');
  const index = Number(fig.getAttribute('data-index'));
  open(index);
});
```

**`e.target.closest('button')`:**
- –ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É–ª –Ω–∞ `<img>`, –∏—â–µ—Ç –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è `<button>`
- –ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É–ª –Ω–∞ `<button>` ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç —Å–∞–º —Å–µ–±—è
- –ï—Å–ª–∏ –Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`

**–ü–æ—á–µ–º—É `closest()` –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ `e.target`?**
```html
<button>
  <img src="..." />    <!-- –∫–ª–∏–∫ —Å—é–¥–∞ -->
</button>
```

–ï—Å–ª–∏ –∫–ª–∏–∫–Ω–µ—à—å –Ω–∞ `<img>`, —Ç–æ `e.target` ‚Äî —ç—Ç–æ `<img>`, –Ω–µ `<button>`. –° `closest()` –Ω–∞—Ö–æ–¥–∏–º –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç.

### –ö–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –∏ "–í–ø–µ—Ä—ë–¥"

```javascript
nextBtn.addEventListener('click', e => {
  e.stopPropagation();  // –Ω–µ –ø—Ä–æ–±–∏–≤–∞–µ–º –∫–ª–∏–∫ –≤—ã—à–µ –≤ lightbox
  showNext();
});

prevBtn.addEventListener('click', e => {
  e.stopPropagation();
  showPrev();
});
```

**`e.stopPropagation()`:**
- –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ –≤–≤–µ—Ä—Ö –ø–æ DOM
- –ë–µ–∑ —ç—Ç–æ–≥–æ –∫–ª–∏–∫ –Ω–∞ `prevBtn` –∏–ª–∏ `nextBtn` –º–æ–≥ –±—ã –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª (—Å–º. –Ω–∏–∂–µ)

### –ö–ª–∏–∫ –≤–Ω–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª

```javascript
lightbox.addEventListener('click', e => {
  if (e.target === lightbox) close();
});
```

**`e.target === lightbox`:**
- –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–ª–∏–∫–Ω—É–ª–∏ **–∏–º–µ–Ω–Ω–æ** –Ω–∞ —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω
- –ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É–ª–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É –∏–ª–∏ –∫–Ω–æ–ø–∫—É ‚Äî –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º
- –ü–æ—ç—Ç–æ–º—É –≤—ã—à–µ –Ω—É–∂–µ–Ω `stopPropagation()` –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö!

---

## –ß–∞—Å—Ç—å 8: –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞–≤–∏—à–∏

```javascript
document.addEventListener('keydown', e => {
  // –ï—Å–ª–∏ –º–æ–¥–∞–ª –∑–∞–∫—Ä—ã—Ç, –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ–º –Ω–∞ –∫–ª–∞–≤–∏—à–∏
  if (lightbox.getAttribute('aria-hidden') === 'true') return;
  
  if (e.key === 'Escape') close();
  if (e.key === 'ArrowRight') showNext();
  if (e.key === 'ArrowLeft') showPrev();
});
```

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–ª–∞–≤–∏—à–∏ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö:**
- `Escape` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª (–¥–µ-—Ñ–∞–∫—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- `ArrowRight` / `ArrowLeft` ‚Äî —Å–ª–µ–¥—É—é—â–µ–µ/–ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º Tab

```javascript
lightbox.addEventListener('keydown', e => {
  if (e.key === 'Tab') {
    e.preventDefault();
    // –¶–∏–∫–ª–∏–º —Ñ–æ–∫—É—Å –º–µ–∂–¥—É –¥–≤—É–º—è –∫–Ω–æ–ø–∫–∞–º–∏
    if (document.activeElement === nextBtn) {
      prevBtn.focus();
    } else {
      nextBtn.focus();
    }
  }
});
```

**–ó–∞—á–µ–º?**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Tab –Ω–µ –Ω–∞–¥–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –º–æ–¥–∞–ª–∞ –≤ –æ—Å—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **focus trap** –∏–ª–∏ **focus containment**

---

## –ß–∞—Å—Ç—å 9: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äî –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö —Ñ–æ—Ç–æ

### –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞

```javascript
function preload(src) {
  const im = new Image();
  im.src = src;  // –±—Ä–∞—É–∑–µ—Ä –Ω–∞—á–Ω—ë—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å, –Ω–æ –Ω–µ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É
}
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°–æ–∑–¥–∞—ë–º —Å–∫—Ä—ã—Ç—ã–π `<img>` —ç–ª–µ–º–µ–Ω—Ç
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `src`
3. –ë—Ä–∞—É–∑–µ—Ä –Ω–∞—á–Ω—ë—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å, –ø–æ–∫–∞ –º—ã –∂–¥—ë–º
4. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–º—ë—Ç "–í–ø–µ—Ä—ë–¥", –∫–∞—Ä—Ç–∏–Ω–∫–∞ —É–∂–µ –≤ –∫—ç—à–µ

### –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö —Ñ–æ—Ç–æ

```javascript
function preloadNeighbors(i) {
  const next = (i + 1) % figures.length;
  const prev = (i - 1 + figures.length) % figures.length;
  
  preload(figures[next].querySelector('button').getAttribute('data-src'));
  preload(figures[prev].querySelector('button').getAttribute('data-src'));
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—Ç–∫—Ä–æ–µ—à—å —Ñ–æ—Ç–æ 3 ‚Üí –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ñ–æ—Ç–æ 2 –∏ 4
- –û—Ç–∫—Ä–æ–µ—à—å —Ñ–æ—Ç–æ 5 ‚Üí –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ñ–æ—Ç–æ 4 –∏ 0 (—Ü–∏–∫–ª–∏—Ç!)
- –ö–ª–∏–∫ "–í–ø–µ—Ä—ë–¥" –∫–∞–∂–µ—Ç—Å—è **–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º** ‚ö°

---

## –ß–∞—Å—Ç—å 10: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ‚Äî —Å–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞

–ö–æ–≥–¥–∞ –º–æ–¥–∞–ª –æ—Ç–∫—Ä—ã—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–º –º–æ–∂–µ—Ç:
- –ù–∞–∂–∞—Ç—å Tab –∏ "–≤—ã–±—Ä–∞—Ç—å—Å—è" –∏–∑ –º–æ–¥–∞–ª–∞ –≤ –æ—Å—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –£—Å–ª—ã—à–∞—Ç—å –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞ –º–æ–¥–∞–ª–æ–º (–∑–∞–±—É–¥—É, —á—Ç–æ –æ–Ω–∏ —Ç–∞–º –≤–æ–æ–±—â–µ?)

### –†–µ—à–µ–Ω–∏–µ: `aria-hidden` –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

```javascript
const pageChildren = Array.from(document.body.children)
  .filter(n => n !== lightbox);

function setInert(hide) {
  pageChildren.forEach(n => {
    n.setAttribute('aria-hidden', hide ? 'true' : 'false');
  });
}

// –û–±–Ω–æ–≤–ª—è–µ–º open –∏ close —Ñ—É–Ω–∫—Ü–∏–∏
const openWrap = open;
open = function(i) {
  setInert(true);   // —Å–∫—Ä—ã–≤–∞–µ–º –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  openWrap(i);      // –æ—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª
};

const closeWrap = close;
close = function() {
  setInert(false);  // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
  closeWrap();      // –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª
};
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä –≤–∏–¥–∏—Ç **—Ç–æ–ª—å–∫–æ** –º–æ–¥–∞–ª –∏ –µ–≥–æ –∫–Ω–æ–ø–∫–∏
- –û—Å—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞–∫ –±—ã "–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
- –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç UX –¥–ª—è –ª—é–¥–µ–π —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏ –∑—Ä–µ–Ω–∏—è

---

## –ß–∞—Å—Ç—å 11: `loading="lazy"` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ë–µ–∑ lazy-loading

```html
<!-- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï 6 —Ñ–æ—Ç–æ -->
<img src="https://picsum.photos/id/1015/600/400" />
<img src="https://picsum.photos/id/1016/600/400" />
<img src="https://picsum.photos/id/1020/600/400" />
<!-- ... –µ—â—ë 3 ... -->

<!-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 6 √ó 150KB = 900KB —Å—Ä–∞–∑—É -->
```

### –° lazy-loading

```html
<!-- –ë—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ, –∫–æ–≥–¥–∞ —Ñ–æ—Ç–æ –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ -->
<img src="https://picsum.photos/id/1015/600/400" loading="lazy" />
<!-- ... -->

<!-- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —Ñ–æ—Ç–æ (~300KB –Ω–∞ –º–æ–±–∏–ª—å–∫–µ) -->
```

**–≠–∫–æ–Ω–æ–º–∏—è:**
- –ú–æ–±–∏–ª—å–∫–∞ (4G): –≤–º–µ—Å—Ç–æ 5 —Å–µ–∫ –º–æ–∂–Ω–æ 1-2 —Å–µ–∫ ‚ö°
- –¢—Ä–∞—Ñ–∏–∫: –≤–º–µ—Å—Ç–æ 900KB –º–æ–∂–Ω–æ 300KB –Ω–∞ –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- –ë–∞—Ç–∞—Ä–µ—è: —Ç–µ–ª–µ—Ñ–æ–Ω —ç–∫–æ–Ω–æ–º–∏—Ç —ç–Ω–µ—Ä–≥–∏—é, –Ω–µ –∑–∞–≥—Ä—É–∂–∞—è –ª–∏—à–Ω–µ–µ

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
- Chrome, Firefox, Edge ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç
- Safari 15+ ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
- Fallback: –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–±—ã—á–Ω–æ

---

## –ß–∞—Å—Ç—å 12: Best Practices & Tips

### ‚úÖ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥

1. **–°–∫–æ–ø–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É HTML** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `<figure>`, `<button>`, `data-*` –∞—Ç—Ä–∏–±—É—Ç—ã
2. **–ê–¥–∞–ø—Ç–∏—Ä—É–π —Å—Ç–∏–ª–∏** ‚Äî —Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã, —Ç–µ–Ω–∏ –ø–æ–¥ —Å–≤–æ–π –¥–∏–∑–∞–π–Ω
3. **–ü–æ–Ω–∏–º–∞–π JavaScript** ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–π, —Ä–∞–∑–±–µ—Ä–∏—Å—å –ª–æ–≥–∏–∫–∞
4. **–¢–µ—Å—Ç–∏—Ä—É–π –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ** ‚Äî Tab, Arrow keys, Escape, Enter
5. **–ü—Ä–æ–≤–µ—Ä—å —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π NVDA (Windows) –∏–ª–∏ VoiceOver (Mac)

### ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

```javascript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –∑–∞–±—ã–ª –ø—Ä–æ currentIndex –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏
nextBtn.addEventListener('click', showNext);  // –º–æ–∂–µ—Ç –±—ã—Ç—å current = -1!

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ø—Ä–æ–≤–µ—Ä—è–π current –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º
function showNext() {
  if (current < 0) return;  // –µ—Å–ª–∏ –º–æ–¥–∞–ª –∑–∞–∫—Ä—ã—Ç, –Ω–µ –¥–µ–ª–∞–µ–º –Ω–∏—á–µ–≥–æ
  open((current + 1) % figures.length);
}
```

```css
/* ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: transition –Ω–∞ :hover —Ç–æ–ª—å–∫–æ */
.photo:hover { transition: transform .3s; }

/* ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: transition –Ω–∞ –±–∞–∑–æ–≤–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ */
.photo { transition: transform .3s; }
.photo:hover { transform: translateY(-8px); }
```

```html
<!-- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: <div> –≤–º–µ—Å—Ç–æ <button> -->
<div class="clickable" @click="open()">
  <img src="..." />
</div>

<!-- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∞—è <button> -->
<button aria-label="...">
  <img src="..." />
</button>
```

### üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [MDN: CSS Grid](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout)
- [MDN: ARIA Dialog](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/dialog_role)
- [MDN: Loading attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#loading)
- [WCAG 2.1](https://www.w3.org/WAI/WCAG21/quickref/) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

---

## –†–µ–∑—é–º–µ

| –ö–æ–Ω—Ü–µ–ø—Ü–∏—è | –ó–∞—á–µ–º | –ö–∞–∫ |
|-----------|-------|-----|
| CSS Grid `auto-fit` | –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –±–µ–∑ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–æ–≤ | `grid-template-columns: repeat(auto-fit, minmax(200px, 1fr))` |
| `loading="lazy"` | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ | `<img loading="lazy">` |
| `<button>` –≤–º–µ—Å—Ç–æ `<div>` | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ | –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã |
| `aria-hidden` | –°–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –º–æ–¥–∞–ª | –°–∏–Ω—Ö—Ä–æ–Ω–∏—Ä—É–µ–º —Å CSS —á–µ—Ä–µ–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä –∞—Ç—Ä–∏–±—É—Ç–∞ |
| –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –º—ã—à–∏ | `keydown` —Å–æ–±—ã—Ç–∏—è, focus management |
| –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö —Ñ–æ—Ç–æ | –ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è | –°–æ–∑–¥–∞—ë–º —Å–∫—Ä—ã—Ç—ã–µ `<img>` –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ |

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ üèãÔ∏è

1. –°–¥–µ–ª–∞–π —Å–≤–æ—é –≤–µ—Ä—Å–∏—é –≥–∞–ª–µ—Ä–µ–∏ —Å —Ç–≤–æ–∏–º–∏ —Ñ–æ—Ç–æ
2. –î–æ–±–∞–≤—å –∫–Ω–æ–ø–∫—É "–ó–∞–∫—Ä—ã—Ç—å" (‚úï) –≤ –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª –º–æ–¥–∞–ª–∞
3. –î–æ–±–∞–≤—å —Å—á—ë—Ç—á–∏–∫ —Ñ–æ—Ç–æ ("3 –∏–∑ 6") –≤ `lightbox__meta`
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π –∏ —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–º
5. –£–ª—É—á—à–∏ –∞–Ω–∏–º–∞—Ü–∏—é ‚Äî –∏–∑–º–µ–Ω–∏ `cubic-bezier` –∑–Ω–∞—á–µ–Ω–∏—è

---

**–ì–æ—Ç–æ–≤ –∫ –≤–æ–ø—Ä–æ—Å–∞–º! üöÄ**
